!function(t){function e(e,i,n){var o=this;return this.on("click.pjax",e,function(e){var a=t.extend({},y(i,n));a.container||(a.container=t(this).attr("data-pjax")||o),r(e,a)})}function r(e,r,i){i=y(r,i);var o=e.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.href.indexOf("#")>-1&&v(o)==v(location)||e.isDefaultPrevented())){var a={url:o.href,container:t(o).attr("data-pjax"),target:o},s=t.extend({},a,i),c=t.Event("pjax:click");t(o).trigger(c,[s]),c.isDefaultPrevented()||(n(s),e.preventDefault(),t(o).trigger("pjax:clicked",[s]))}}function i(e,r,i){i=y(r,i);var o=e.currentTarget,a=t(o);if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var s={type:(a.attr("method")||"GET").toUpperCase(),url:a.attr("action"),container:a.attr("data-pjax"),target:o};if("GET"!==s.type&&void 0!==window.FormData)s.data=new FormData(o),s.processData=!1,s.contentType=!1;else{if(t(o).find(":file").length)return;s.data=t(o).serializeArray()}n(t.extend({},s,i)),e.preventDefault()}function n(e){function s(e,i,n){n||(n={}),n.relatedTarget=r;var a=t.Event(e,n);return o.trigger(a,i),!a.isDefaultPrevented()}e=t.extend(!0,{},t.ajaxSettings,n.defaults,e),t.isFunction(e.url)&&(e.url=e.url());var r=e.target,i=g(e.url).hash,o=e.context=b(e.container);e.data||(e.data={}),t.isArray(e.data)?e.data.push({name:"_pjax",value:o.selector}):e.data._pjax=o.selector;var c;e.beforeSend=function(t,r){if("GET"!==r.type&&(r.timeout=0),t.setRequestHeader("X-PJAX","true"),t.setRequestHeader("X-PJAX-Container",o.selector),!s("pjax:beforeSend",[t,r]))return!1;r.timeout>0&&(c=setTimeout(function(){s("pjax:timeout",[t,e])&&t.abort("timeout")},r.timeout),r.timeout=0);var n=g(r.url);i&&(n.hash=i),e.requestUrl=m(n)},e.complete=function(t,r){c&&clearTimeout(c),s("pjax:complete",[t,r,e]),s("pjax:end",[t,e])},e.error=function(t,r,i){var n=V("",t,e),o=s("pjax:error",[t,r,i,e]);"GET"==e.type&&"abort"!==r&&o&&a(n.url)},e.success=function(r,c,u){var l=n.state,h="function"==typeof t.pjax.defaults.version?t.pjax.defaults.version():t.pjax.defaults.version,f=u.getResponseHeader("X-PJAX-Version"),d=V(r,u,e),m=g(d.url);if(i&&(m.hash=i,d.url=m.href),h&&f&&h!==f)return void a(d.url);if(!d.contents)return void a(d.url);n.state={id:e.id||p(),url:d.url,title:d.title,container:o.selector,fragment:e.fragment,timeout:e.timeout},(e.push||e.replace)&&window.history.replaceState(n.state,d.title,d.url);var v=t.contains(e.container,document.activeElement);if(v)try{document.activeElement.blur()}catch(y){}d.title&&(document.title=d.title),s("pjax:beforeReplace",[d.contents,e],{state:n.state,previousState:l}),o.html(d.contents);var b=o.find("input[autofocus], textarea[autofocus]").last()[0];b&&document.activeElement!==b&&b.focus(),A(d.scripts);var C=e.scrollTo;if(i){var x=decodeURIComponent(i.slice(1)),w=document.getElementById(x)||document.getElementsByName(x)[0];w&&(C=t(w).offset().top)}"number"==typeof C&&t(window).scrollTop(C),s("pjax:success",[r,c,u,e])},n.state||(n.state={id:p(),url:window.location.href,title:document.title,container:o.selector,fragment:e.fragment,timeout:e.timeout},window.history.replaceState(n.state,document.title)),f(n.xhr),n.options=e;var u=n.xhr=t.ajax(e);return u.readyState>0&&(e.push&&!e.replace&&(F(n.state.id,d(o)),window.history.pushState(null,"",e.requestUrl)),s("pjax:start",[u,e]),s("pjax:send",[u,e])),n.xhr}function o(e,r){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return n(t.extend(i,y(e,r)))}function a(t){window.history.replaceState(null,"",n.state.url),window.location.replace(t)}function l(e){s||f(n.xhr);var o,r=n.state,i=e.state;if(i&&i.container){if(s&&c==i.url)return;if(r){if(r.id===i.id)return;o=r.id<i.id?"forward":"back"}var u=w[i.id]||[],l=t(u[0]||i.container),h=u[1];if(l.length){r&&T(o,r.id,d(l));var p=t.Event("pjax:popstate",{state:i,direction:o});l.trigger(p);var m={id:i.id,url:i.url,container:l,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(h){l.trigger("pjax:start",[null,m]),n.state=i,i.title&&(document.title=i.title);var g=t.Event("pjax:beforeReplace",{state:i,previousState:r});l.trigger(g,[h,m]),l.html(h),l.trigger("pjax:end",[null,m])}else n(m);l[0].offsetHeight}else a(location.href)}s=!1}function h(e){var r=t.isFunction(e.url)?e.url():e.url,i=e.type?e.type.toUpperCase():"GET",n=t("<form>",{method:"GET"===i?"GET":"POST",action:r,style:"display:none"});"GET"!==i&&"POST"!==i&&n.append(t("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=e.data;if("string"==typeof o)t.each(o.split("&"),function(e,r){var i=r.split("=");n.append(t("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if(t.isArray(o))t.each(o,function(e,r){n.append(t("<input>",{type:"hidden",name:r.name,value:r.value}))});else if("object"==typeof o){var a;for(a in o)n.append(t("<input>",{type:"hidden",name:a,value:o[a]}))}t(document.body).append(n),n.submit()}function f(e){e&&e.readyState<4&&(e.onreadystatechange=t.noop,e.abort())}function p(){return(new Date).getTime()}function d(t){var e=t.clone();return e.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[t.selector,e.contents()]}function m(t){return t.search=t.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),t.href.replace(/\?($|#)/,"$1")}function g(t){var e=document.createElement("a");return e.href=t,e}function v(t){return t.href.replace(/#.*/,"")}function y(e,r){return e&&r?r.container=e:r=t.isPlainObject(e)?e:{container:e},r.container&&(r.container=b(r.container)),r}function b(e){if(e=t(e),e.length){if(""!==e.selector&&e.context===document)return e;if(e.attr("id"))return t("#"+e.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+e.selector}function C(t,e){return t.filter(e).add(t.find(e))}function x(e){return t.parseHTML(e,document,!0)}function V(e,r,i){var n={},o=/<html/i.test(e),a=r.getResponseHeader("X-PJAX-URL");if(n.url=a?m(g(a)):i.requestUrl,o)var s=t(x(e.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),c=t(x(e.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var s=c=t(x(e));if(0===c.length)return n;if(n.title=C(s,"title").last().text(),i.fragment){if("body"===i.fragment)var u=c;else var u=C(c,i.fragment).first();u.length&&(n.contents="body"===i.fragment?u:u.contents(),n.title||(n.title=u.attr("title")||u.data("title")))}else o||(n.contents=c);return n.contents&&(n.contents=n.contents.not(function(){return t(this).is("title")}),n.contents.find("title").remove(),n.scripts=C(n.contents,"script[src]").remove(),n.contents=n.contents.not(n.scripts)),n.title&&(n.title=t.trim(n.title)),n}function A(e){if(e){var r=t("script[src]");e.each(function(){var e=this.src,i=r.filter(function(){return this.src===e});if(!i.length){var n=document.createElement("script"),o=t(this).attr("type");o&&(n.type=o),n.src=t(this).attr("src"),document.head.appendChild(n)}})}}function F(t,e){w[t]=e,S.push(t),M(j,0),M(S,n.defaults.maxCacheLength)}function T(t,e,r){var i,o;w[e]=r,"forward"===t?(i=S,o=j):(i=j,o=S),i.push(e),(e=o.pop())&&delete w[e],M(i,n.defaults.maxCacheLength)}function M(t,e){for(;t.length>e;)delete w[t.shift()]}function R(){return t("meta").filter(function(){var e=t(this).attr("http-equiv");return e&&"X-PJAX-VERSION"===e.toUpperCase()}).attr("content")}function _(){t.fn.pjax=e,t.pjax=n,t.pjax.enable=t.noop,t.pjax.disable=O,t.pjax.click=r,t.pjax.submit=i,t.pjax.reload=o,t.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:R},t(window).on("popstate.pjax",l)}function O(){t.fn.pjax=function(){return this},t.pjax=h,t.pjax.enable=_,t.pjax.disable=t.noop,t.pjax.click=t.noop,t.pjax.submit=t.noop,t.pjax.reload=function(){window.location.reload()},t(window).off("popstate.pjax",l)}var s=!0,c=window.location.href,u=window.history.state;u&&u.container&&(n.state=u),"state"in window.history&&(s=!1);var w={},j=[],S=[];t.inArray("state",t.event.props)<0&&t.event.props.push("state"),t.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),t.support.pjax?_():O()}(jQuery);